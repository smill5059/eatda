<!DOCTYPE html>
<html lang='en'>
	<head>
		<meta charset='UTF-8'/>
		<title></title>
	</head>
	
	<body>
        <button onclick="onButtonClicked()">붐</button>
        <h2 id="boom">0</h2>
    </body>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>
    <script>
        function onButtonClicked()
        {
        	let date = new Date();
        	console.log(date);
          axios({
            method: 'post', //통신 방식
            url: 'http://localhost:8081/main/test', //통신할 페이지
            data: {
            	"test": 1664038710
            	}, //인자로 보낼 데이터
            	header: {
                    'Content-Type': 'application/json'
                }
          })
            .then(response=>{
                document.getElementById('boom').innerText=response.data;
                console.log(response);
			axios({
            method: 'post', //통신 방식
            url: 'http://localhost:8081/main/test2', //통신할 페이지
            data: {
            	id: response.data.id
            }, //인자로 보낼 데이터
            header: {
                'Content-Type': 'application/json'
            }
          })
            .then(response=>{
                document.getElementById('boom').innerText=response.data;
                console.log(response);
            })
            .catch(error=>{
                document.getElementById('boom').innerText='error';
                console.log(error);
            })
                
            })
            .catch(error=>{
                document.getElementById('boom').innerText='error';
                console.log(error);
            })
        }
    </script>
	
</html>